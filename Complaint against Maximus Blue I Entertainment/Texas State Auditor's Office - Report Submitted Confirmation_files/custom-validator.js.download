/* File Created: September 18, 2014 */
jQuery.validator.unobtrusive.adapters.add(
        'atleastonerequired', ['properties'], function (options) {
            options.rules['atleastonerequired'] = options.params;
            options.messages['atleastonerequired'] = options.message;
        }
    );

jQuery.validator.addMethod('atleastonerequired', function (value, element, params) {
    var properties = params.properties.split(',');
    var values = $.map(properties, function (property, index) {
        var val = $('#' + property).val();
        return val != '' ? val : null;
    });
    return values.length > 0;
}, '');

// Custom date validator needed because the jQuery one doesn't catch bogus dates like 2/31/2014.
jQuery.validator.addMethod('date', function (value, element, params) {
    var result = false;
    try {
        $.datepicker.parseDate('mm/dd/yy', value);
        result = true;
    } catch (err) {
        result = false;
    }
    return result;
    },
    ''
);


// Date Range- End date must be later than Start date.  To use, add 'enddate' class to 
//             the To date textbox and 'startdate' class to From date textbox.
jQuery.validator.addMethod("enddate", function(value, element) {
    var startdatevalue = $('.startdate').val();
    return Date.parse(startdatevalue) <= Date.parse(value);
 }, "The Ending date should be the same as or later than Starting date.");

